{% extends "./index.html" %}
{% block title %} {{user.username}} CoverSheet Creation {% endblock %}
{% block content %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


      <style>
        table, td, th {    
            border: 1px solid #ddd;
            text-align: left;
        }

        table {
            border-collapse: collapse;
            width: 100%;
        }


      </style>
<form method="POST">
    {% csrf_token %}
<!-- this stuff expands navbar for some reason -->

<div class="container">
  <h2>Monitoring Cover Sheet</h2>
  <p class="mt-5 mb-3 text-muted">
      a.	Each animal is examined and observed for abnormalities at each monitoring point. <br>
      b.	Each criterion is scored and the score marked on the recording sheet. Training is required to ensure all personnel are consistent in terms of scoring. <br>
      c.	Scores are then added together and a Total Welfare Impact Score marked on the recording sheet. <br>
      d.	Appropriate to the Total Welfare Impact Score, specific actions or interventions are undertaken. <br>
      e.	Comments concerning abnormalities are recorded in the “Comments” section.<br>
      f.	Any other abnormalities are recorded in the “Other” section.<br>
      g.	Any abnormality that is observed to be of greater severity than the descriptions provided above will require immediate euthanasia of the animal.<br>
      h.	All reporting documentation will be completed and submitted to facilities staff/manager and AWO if required. 
        
  </p>
  <div class="panel-group">
    <div class="panel panel-default">
      <div class="panel-heading"  >Contact Details</div>
      <div class="panel-body">
              <div class="form-group">
                    <label for="formGroupExampleInput">AEC Protocol #</label>
                    <input type="text"  name ="Protocol_Title" class="form-control" id="formGroupExampleInput" value="RA/3/" readonly>
                  </div>
                  <div class="form-group">
                    <label for="formGroupExampleInput">Protocol Title </label>
                    <input type="text"  name ="protocol_title" class="form-control" id="formGroupExampleInput" placeholder="Title">
                  </div>
                  <div class="form-group">
                        <label for="formGroupExampleInput">Monitoring Start Date :</label>
                        <input type="date"  name ="start_date" class="form-control" id="formGroupExampleInput" placeholder="dd/mm/yyyy">
                  </div>
                  <div class="form-group">
                      <label for="formGroupExampleInput">Chief Investigator : </label>
                      <input type="text"  name ="cheif_investigator" class="form-control" id="formGroupExampleInput" placeholder="Full Name">
                      <input type="number"  name ="cheif_investigator_phone" class="form-control" id="formGroupExampleInput" placeholder="Phone Number">
                  </div>
                  <div class="form-group">
                      <label for="formGroupExampleInput">Emergency Contact :</label>
                      <input type="text"  name ="emergency_investigator" class="form-control" id="formGroupExampleInput" placeholder="Full Name">
                      <input type="number"  name ="emergency_investigator_phone" class="form-control" id="formGroupExampleInput" placeholder="Phone Number">
                  </div>
                  <!-- HANDLE NAMES FOR FORM PROCESSING -->
                  <div class="form-group">
                      <label for="formGroupExampleInput">Monitor 1 :</label>
                      <input type="text"  name ="monitor_1" class="form-control" id="formGroupExampleInput" placeholder="Full Name">
                      <input type="number"  name ="monitor_1_phone" class="form-control" id="formGroupExampleInput" placeholder="Phone Number">
                  </div>
                  <div class="form-group">
                      <label for="formGroupExampleInput">Monitor 2 :</label>
                      <input type="text"  name ="monitor_2" class="form-control" id="formGroupExampleInput" placeholder="Full Name">
                      <input type="number"  name ="monitor_2_phone" class="form-control" id="formGroupExampleInput" placeholder="Phone Number">
                  </div>
                  <div class="form-group">
                      <label for="formGroupExampleInput">Monitor 3 :</label>
                      <input type="text"  name ="monitor_3" class="form-control" id="formGroupExampleInput" placeholder="Full Name">
                      <input type="number"  name ="monitor_3_phone" class="form-control" id="formGroupExampleInput" placeholder="Phone Number">
                      <div class="inline"><input type="checkbox" class="form-control" name="supervision" > <p class="text-muted">under supervision until competent</p></div>
                    </div>
                  <div class="form-group">
                      <label for="formGroupExampleInput">Person responsible for euthanasia :</label>
                      <input type="text"  name ="euthanasia_person" class="form-control" id="formGroupExampleInput" placeholder="Full Name">
                      <input type="number"  name ="euthanasia_phone" class="form-control" id="formGroupExampleInput" placeholder="Phone Number">
                  </div>
                  <div class="form-group">
                      <label for="formGroupExampleInput">Other experts :</label>
                      <input type="text"  name ="other_experts" class="form-control" id="formGroupExampleInput" placeholder="Full Name">
                      <input type="number"  name ="other_experts_phone" class="form-control" id="formGroupExampleInput" placeholder="Phone Number">
                  </div>
                  <div class="form-group">
                      <label for="formGroupExampleInput">Animal Welfare Officer </label>
                      <input type="text"  name ="Protocol_Title" class="form-control" id="formGroupExampleInput" value="AWO" readonly>
                      <input type="number"  name ="Protocol_Title" class="form-control" id="formGroupExampleInput" value=0428021529 readonly>
                    </div>
      </div>
    </div>

    <div class="panel panel-primary">
      <div class="panel-heading">	Species / Phenotype / Model Issues</div>
      <div class="panel-body">
          <div class="form-group">
              <input type="text"  name ="species_phenotype_issues" class="form-control" placeholder="species/phenotype/model issues">
             </div>
      </div>
    </div>
    <div class="panel panel-success">
      <div class="panel-heading"> MONITORING CRITERIA AND SCORING </div>
      <div class="panel-body">
          <div class="panel panel-success">
            <div class="panel-heading"> Standard AEC Recommended Criteria </div>
            <br>
              Select criteria from template:
              <select id="template">
                <!-- fill from templates -->
                  <option value="0">Mouse</option>
                  <option value="1">Rat</option>
                  <option value="2">Sheep</option>
              </select>
              <input type="button" value ="apply">
              <br><br>
              <table id="sarcrit">
                <tr>
                  <th style="text-align: center;">Criteria</th>
                  <th style="text-align: center;">0</th>
                  <th style="text-align: center;">1</th>
                  <th style="text-align: center;">2</th>
                  <th style="text-align: center;">Delete</th>
                </tr>
                <tr>
                  <td><textarea cols="30" rows="4" placeholder="Criteria Description" style="width:100%;">Activity – i.e. movement around the cageBright, Alert, Responsive (BAR)</textarea></td>
                  <td><textarea cols="30" rows="4" placeholder="Action to Take" style="width:100%;">Normal – mobile and active</textarea></td>
                  <td><textarea cols="30" rows="4" placeholder="Action to Take" style="width:100%;">Somewhat and/or intermittent stillness as compared to others</textarea></td>
                  <td><textarea cols="30" rows="4" placeholder="Action to Take" style="width:100%;">Will only move if approached or reluctant to move when touched.  Moderately reduced activity, dull, lethargic</textarea></td>
                  <td><input type="button" value="X" style="margin: 0 auto;"></td>
                </tr>
                <tr>
                  <td><textarea cols="30" rows="4" placeholder="Criteria Description" style="width:100%;">Body Posture</textarea></td>
                  <td><textarea cols="30" rows="4" placeholder="Action to Take" style="width:100%;">Normal</textarea></td>
                  <td><textarea cols="30" rows="4" placeholder="Action to Take" style="width:100%;">Somewhat and/or intermittent hunched appearance</textarea></td>
                  <td><textarea cols="30" rows="4" placeholder="Action to Take" style="width:100%;">Moderate/continuous hunching and still</textarea></td>
                  <td><input type="button" value="X" style="margin: 0 auto;"></td>
                </tr>
                <tr>
                  <td><textarea cols="30" rows="4" placeholder="Criteria Description" style="width:100%;">Social Behaviour (only relevant for group housed animals)</textarea></td>
                  <td><textarea cols="30" rows="4" placeholder="Action to Take" style="width:100%;">Normal</textarea></td>
                  <td><textarea cols="30" rows="4" placeholder="Action to Take" style="width:100%;">Somewhat or intermittently separate from others</textarea></td>
                  <td><textarea cols="30" rows="4" placeholder="Action to Take" style="width:100%;">Completely separate or isolated from others</textarea></td>
                  <td><input type="button" value="X" style="margin: 0 auto;"></td>
                </tr>


              </table>
              <input type="button" value="add">
            </div>

            <div class="panel panel-success">
                <div class="panel-heading"> Project specific criteria </div>
              <table class="entertable1">
                <tr>
                  <th style="text-align: center;">Criteria</th>
                  <th style="text-align: center;">0</th>
                  <th style="text-align: center;">1</th>
                  <th style="text-align: center;">2</th>
                  <th style="text-align: center;">Delete</th>
                </tr>
                <tr>
                  <td><textarea cols="30" rows="4" placeholder="Criteria Description" style="width:100%;"></textarea></td>
                  <td><textarea cols="30" rows="4" placeholder="Severity indicator description" style="width:100%;"></textarea></td>
                  <td><textarea cols="30" rows="4" placeholder="Severity indicator description" style="width:100%;"></textarea></td>
                  <td><textarea cols="30" rows="4" placeholder="Severity indicator description" style="width:100%;"></textarea></td>
                  <td><input type="button" value="X" style="margin: 0 auto;"></td>
                </tr>
            </table>
            <input type="button" value="add">
            </div>
          </div>
          <p class="text-muted">Total : 0 </p>
      </div>

    <div class="panel panel-info">
      <div class="panel-heading">MONITORING FREQUENCY</div>
      <div class="panel-body">
            <div class="form-group">
                <p class="text-muted" >Describe monitoring regime including frequency of animal assessment and weighing.  Select frequency that will adequately identify potential issues (including those described in section17D).</p>
                    <input type="text" name ="monitoring_frequency" class="form-control">
                   </div>
      </div>
    </div>

    <div class="panel panel-warning">
      <div class="panel-heading">Type of Recording sheet</div>
      <div class="panel-body">
            <div class="form-group">
              <select onchange="ifother()" class="form-control" name ="typeofsheet" id="typeofsheet">
                        <option value="General">General</option>
                        <option value="Anaesthesia">Anaesthesia</option>
                        <option value="Post Procedure">Post Procedure</option>
                        <option value="Other">Other</option>
                </select>
                <div id="other_description" style="display:none">
                <input type="text" placeholder="Please Specify" name ="other_description" class="form-control">
                </div>
            </div>
      </div>
    </div>

    <div class="panel panel-danger">
      <div class="panel-heading">ACTIONS AND INTERVENTIONS</div>
      <div class="panel-body">
        <p>Add together all individual monitoring criteria scores for a Total Welfare Impact Score</p>
      <table>
        <tr>
          <th>Total Welfare Impact Score</th>
          <th>Actions/Interventions</th>
          <th>Delete</th>
        </tr>
        <tr>
          <td>0</td>
          <td><ul><li>No interventions required</li></ul></td>
        </tr>
        <tr>
          <td>1</td>
          <td>
            <ul>
              <li>Monitor once daily</li>
              <li>Consider analgesia (as described in the approval or following veterinary authorisation)</li>
            </ul>
          </td>
          <td></td>
        </tr>
        <tr>
          <td>2-4</td>
          <td>
            <ul>
              <li>Monitor twice daily</li>
              <li>Weigh</li>
              <li>Consider analgesia (as described in the approval or following veterinary authorisation)</li>
              <li>Assess for euthanasia</li>
            </ul>
          </td>
          <td></td>
        </tr>
        <tr>
          <td>5<br>Humane end-point</td>
          <td>
              <ul>
              <li>Immediate euthanasia</li>
              <li>Complete reporting documentation and submit to facilities staff/manager andAWO if required</li>
            </ul>
          </td>
          <td></td>
        </tr>
        <tr>
          <th>Additional Specific Interventions</th>
          <th></th>
          <th></th>
        </tr>
        <tr>
          <td><textarea placeholder="Intervention description (e.g. Flystrike)" style="width:100%;"></textarea></td>
          <td><textarea style="width:100%;"></textarea></td>
          <td><input type="button" value="X"></td>
        </tr>
      </table>
      <input type="button" value="add">
      </div>
    </div>


    <div class="panel panel-danger">
      <div class="panel-heading">AEC INTERVENTIONS for body weight loss and subcutaneous tumor size</div>
      <div class="panel-body">
        <p>Please referto Guidelines on the Induction of Tumours and Monitoring of Animal Welfare and Guidelines on Body Weight Deficit and Monitoring of Animal Welfare documents at: www.research.uwa.edu.au/staff/forms/animals</p>
        <p>NB. When body weight loss Threshold 2 is set at 10% the AEC does not require a dual threshold. ThereforeThreshold 1 should read N/A</p>
        <table>
          <tr>
            <th>Criteria</th>
            <th>Thresholds</th>
            <th>Actions</th>
          </tr>
          <tr>
            <th>Weight Loss %*</th>
            <td>Threshold 1:<br><input type="text"></td>
            <td>
              <ul>
                <li>Increase welfare monitoring frequency to: <input type="text"></li>
                <li>Measure weight at a frequency of: <input type="text"></li>
                <li>Notify the AWO or other approved reviewer</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td></td>
            <td>Threshold 2:<br><input type="text"></td>
            <td>
              <ul>
                <li>If the body weight deficit in any animal reaches this approved second threshold euthanasia must be performed</li>
                <li>Complete reporting documentation and submit to facilities staff/manager and AWO if required</li>
              </ul>
            </td>
          </tr>
          <tr>
            <th>Tumor size</th>
            <td>Threshold 1:<br><input type="text"></td>
            <td>
              <ul>
                <li>Increase welfare monitoring frequency to: <input type="text"></li>
                <li>Measure tumours at a frequency of: <input type="text"></li>
                <li>Notify the AWO or other approved reviewer</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td></td>
            <td>Threshold 2:<br><input type="text"></td>
            <td>
              <ul>
                <li>Immediate euthanasia</li>
                <li>Complete reporting documentation and submit to facilities staff/manager and AWO if required</li>
              </ul>
            </td>
          </tr>
        </table>
        <p style="background-color:yellow;">*“In immature animals the assessment of a body weight deficit, as a manifestation of failure to thrive, may be based on a comparison with body weight in a comparable group of control animals or predicted body weight for age derived from a species-specific growth chart."</p
      </div>
    </div>
  </div>
  <button class="btn btn-lg btn-primary btn-block" type="submit">Create CoverSheet</button>
</div>

<script type="text/javascript">
  function ifother()
  {
     if(document.getElementById("typeofsheet").value=='Other')
     {
      document.getElementById("other_description").style.display = "block";
     }
     else
     {
      document.getElementById("other_description").style.display = "none";
     }
  }

  function total_count()
  {

  }

  function delete1(a)
  {

  }

  function add1()
  {
  }

</script>
</form>
{% endblock %}